<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>函数节流</title>
	</head>
	<body>
		<!-- 函数节流和防抖都是利用了setTimeout延迟执行的特性，对函数调用过程进行一定的处理。函数节流可以让高频调用的函数降低执行频率；而函数防抖则可以在事件连续触发时，先不执行操作，只有一定时间内没有再次触发时才去执行相关操作。
				 我们通过一个外部变量作为“锁”，来控制当前回调函数是否可以执行，并用一个定时器来控制锁的打开和关闭。
		-->
		
		<script type="text/javascript">
			//设置“锁”
			var goRun = true;
			document.addEventListener('mousemove', function(e) {
				//如果当前不允许执行，则直接返回
				if (!goRun) {
					return;
				}
				//把“锁”锁上
				goRun = false;
				
			//执行的代码
				//输出当前鼠标的位置
				console.log(e.x);
				
				//设置一个定时器，200毫秒打开“锁”，运行下次执行
				setTimeout(function() {
					goRun = true;
				},200);
			})
		</script>
	</body>
</html>
